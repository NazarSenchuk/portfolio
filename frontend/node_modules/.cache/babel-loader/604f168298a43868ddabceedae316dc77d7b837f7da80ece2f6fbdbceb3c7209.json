{"ast":null,"code":"import _objectSpread from\"E:/IT/notes/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"E:/IT/notes/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/IT/notes/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/IT/notes/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{ReactComponent as Arrowleft}from'../assets/arrow-left.svg';import{useNavigate,BrowserRouter,useParams,Link}from\"react-router-dom\";import ListItem from'../components/ListItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NotePage=function NotePage(_ref){var match=_ref.match;var history=useNavigate();var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];useEffect(function(){getNote();},[]);var getNote=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(id!==\"new\")){_context.next=9;break;}_context.next=3;return fetch(\"/api/notes/get/\".concat(id,\"/\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;console.log('data:',data);setNote(data);case 9:case\"end\":return _context.stop();}},_callee);}));return function getNote(){return _ref2.apply(this,arguments);};}();var updateNote=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:fetch(\"/api/notes/\".concat(id,\"/update/\"),{method:\"PUT\",headers:{'Content-Type':\"application/json\"},body:JSON.stringify(note)});case 1:case\"end\":return _context2.stop();}},_callee2);}));return function updateNote(){return _ref3.apply(this,arguments);};}();var createNote=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:fetch(\"/api/notes/create/\",{method:\"POST\",headers:{'Content-Type':\"application/json\"},body:JSON.stringify(note)});case 1:case\"end\":return _context3.stop();}},_callee3);}));return function createNote(){return _ref4.apply(this,arguments);};}();var handleSubmit=function handleSubmit(){if(id!=='new'&&note.body==''){deleteNote();console.log('delete');}else if(id!=='new'){updateNote();console.log('update');}else if(id==='new'&&note!==null){createNote();console.log('create');}history('/');};var deleteNote=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:fetch(\"/api/notes/\".concat(id,\"/delete/\"),{method:'DELETE','headers':{'Content-Type':'application/json'}});case 1:case\"end\":return _context4.stop();}},_callee4);}));return function deleteNote(){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"note\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Arrowleft,{onClick:handleSubmit})})}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:id!=='new'?/*#__PURE__*/_jsx(\"button\",{onClick:deleteNote,children:\"Delete\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\" Done\"})})]}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setNote(function(note){return _objectSpread(_objectSpread({},note),{},{'body':e.target.value});});},value:note===null||note===void 0?void 0:note.body})]});};export default NotePage;","map":{"version":3,"names":["React","useState","useEffect","ReactComponent","Arrowleft","useNavigate","BrowserRouter","useParams","Link","ListItem","jsx","_jsx","jsxs","_jsxs","NotePage","_ref","match","history","_useParams","id","_useState","_useState2","_slicedToArray","note","setNote","getNote","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","console","log","stop","apply","arguments","updateNote","_ref3","_callee2","_callee2$","_context2","method","headers","body","JSON","stringify","createNote","_ref4","_callee3","_callee3$","_context3","handleSubmit","deleteNote","_ref5","_callee4","_callee4$","_context4","className","children","to","onClick","onChange","e","_objectSpread","target","value"],"sources":["E:/IT/notes/mynotes/frontend/src/pages/NotePage.js"],"sourcesContent":["import React, {useState ,useEffect} from 'react'\r\nimport {ReactComponent as Arrowleft} from '../assets/arrow-left.svg'\r\nimport {\r\n    useNavigate,\r\n  BrowserRouter,\r\n  useParams,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport ListItem from '../components/ListItem'\r\nconst NotePage = ({match,}) => {\r\n     let history = useNavigate();\r\n     let {id}  = useParams();\r\n     let [note,setNote] =  useState()\r\n     useEffect(()=>{\r\n        getNote()\r\n     },[])\r\n      let getNote = async () => {\r\n      if( id !== \"new\"){\r\n      let response = await fetch(`/api/notes/get/${id}/`)\r\n        let data = await response.json()\r\n        console.log('data:',data)\r\n        setNote(data)}\r\n      }\r\n    let updateNote = async () => {\r\n        fetch(`/api/notes/${id}/update/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n        'Content-Type':\"application/json\"},\r\n        body:JSON.stringify(note)\r\n\r\n\r\n        })\r\n    }\r\n     let createNote = async () => {\r\n        fetch(`/api/notes/create/`, {\r\n        method: \"POST\",\r\n        headers: {\r\n        'Content-Type':\"application/json\"},\r\n        body:JSON.stringify(note)\r\n\r\n\r\n        })\r\n    }\r\n\r\n    let handleSubmit =()=> {\r\n    if(id !=='new'&& note.body== '') {\r\n        deleteNote()\r\n\r\n        console.log('delete')\r\n    }else if(id !== 'new'){\r\n        updateNote()\r\n        console.log('update')\r\n   }else if(id ==='new'&& note !== null){\r\n    createNote()\r\n    console.log('create')\r\n    }\r\n    history('/')\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    let deleteNote  = async()=>{\r\n        fetch(`/api/notes/${id}/delete/`, {\r\n         method:'DELETE',\r\n         'headers':{\r\n         'Content-Type':'application/json'\r\n\r\n         }\r\n\r\n        })\r\n    }\r\n     return(\r\n     <div className = \"note\">\r\n     <div className = \"note-header\">\r\n     <h3>\r\n        <Link to = \"/\">\r\n            <Arrowleft onClick = {handleSubmit}/>\r\n\r\n        </Link>\r\n     </h3>\r\n     <Link to = \"/\">\r\n\r\n     {id !== 'new' ? (\r\n        <button onClick={deleteNote}>Delete</button>\r\n     ):(\r\n        <button onClick = {handleSubmit}> Done</button>\r\n     )}\r\n     </Link>\r\n     </div>\r\n\r\n     <textarea onChange={(e) => { setNote(note => ({ ...note, 'body': e.target.value })) }} value={note?.body}></textarea>\r\n     </div>\r\n)}\r\nexport default NotePage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}